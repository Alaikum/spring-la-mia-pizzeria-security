<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<th:block th:fragment="bootstrap_myStyle">

		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Bootstrap CSS -->
		<link th:rel="stylesheet"
			th:href="@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}" />
		<!--  Stile mio -->
		<link th:href="@{/style.css}" rel="stylesheet" />
		<!-- FontAwesome -->
		<link th:rel="stylesheet"
			th:href="@{/webjars/font-awesome/6.3.0/css/all.min.css} " />


	</th:block>

	<div th:fragment="scriptBootstrap">
		<script
			th:src="@{/webjars/bootstrap/5.2.3/js/bootstrap.bundle.min.js}"></script>
	</div> 

	<ul th:fragment="navbar"
		class="nav nav-tabs d-flex justify-content-between">
		<li class="nav-item"><a class="nav-link" th:href="@{'/'}">Home</a></li>
		<li class="nav-item"><a class="nav-link" th:href="@{'/pizze'}">Pizze</a></li>
			<li sec:authorize="hasAuthority('ADMIN')" class="nav-item"><a class="nav-link" th:href="@{'/ingredienti'}">Ingredienti</a></li>
		<li class="nav-item"><a class="nav-link" th:href="@{'/logout'}">Esci: <span sec:authentication="name"></span></a></li>
		<!-- 	<li class="nav-item" >
		<a class="nav-link" th:href="@{/movies}" th:classAppend="${page=='movies'}? active : not-active">Sedi</a>
	</li>   -->

	</ul>


	<div th:fragment="cards__pizze">
		<div class="row row-cols-1 row-cols-md-2 g-4">
			<div class="col" th:each="p: ${elencoPizze}">
				<div class="card">
					<img th:src="${p.getFoto()}" class="card-img-top" alt="...">
					<div class="card-body">
						<h5 th:text="${p.getNome()}" class="card-title"></h5>
						<p class="card-text" th:text="${p.getPrezzo()}+' â‚¬'"></p>
							<div>
							<h3>Ingredienti:</h3>
							<h4 th:if="${p.ingredienti.size<1}">Nessun ingrediente</h4>
							<span class="card-text" style="color:red;"th:each="i: ${p.ingredienti}"
								th:text="'-'+${i.nome}"></span>
						</div>
						<a class="btn btn-primary" th:href="@{'pizze/'+${p.id}}"> Qui
							Dettaglio <i class="fa-solid fa-circle-info"></i></a> <a sec:authorize="hasAuthority('ADMIN')"  class="btn btn-primary"
							th:href="@{'pizze/edit/'+${p.id}}"> Modifica <i
							class="fa-regular fa-pen-to-square"></i></a>
						<form sec:authorize="hasAuthority('ADMIN')"  action="#" th:action="@{'/pizze/delete/{id}'(id=${p.id})}"
							method="post">
							<button class="btn btn-danger mt-3" type="submit" id="submitButton">
								Elimina <i class="fas fa-trash-alt"> </i>
							</button>
						</form>

					</div>
				</div>
			</div>
		</div>
	</div>




	<ul th:fragment="footer"
		class="nav nav-tabs d-flex justify-content-around">
		<li class="nav-item"><a class="nav-link">Facebook</a></li>
		<li class="nav-item"><a class="nav-link">Instagram</a></li>
		<li class="nav-item"><a class="nav-link">Contatti</a></li>


	</ul>

</body>
</html>